<ion-view title="{{ 'labs' | translate }}">
    <ion-header-bar class="bar-subheader item-input-inset" title="Servizi">
        <label class="item-input-wrapper">
            <i class="icon ion-ios7-search placeholder-icon"></i>
            <input type="search" placeholder="{{ 'labs_search' | translate }}" ng-change="search()" ng-model="data.search">
        </label>
        <button class="button button-balanced" ng-click="openMap()">
            <!-- TODO - use locals -->
            {{ mapOn && ('hideMap' | translate) || ('showMap' | translate) }}
        </button>
    </ion-header-bar>
    <ion-content>
        <!-- map ion-modal-view -->
        <leaflet class="leaflet-map" data-tap-disabled="true" ng-if="mapOn"
                bounds="bounds" center="center" markers="markers">
        </leaflet>

        <!-- laboratories ion-list -->
        <ion-list ng-if="!mapOn">
            <ion-item
                ng-repeat="laboratory in laboratories"
                class="laboratory-title">
                <div class="laboratory-title"
                    ng-click="openLaboratoryModal({{laboratory.id}})">{{laboratory.name}}
                </div>
        </ion-list>

    </ion-content>
</ion-view>
